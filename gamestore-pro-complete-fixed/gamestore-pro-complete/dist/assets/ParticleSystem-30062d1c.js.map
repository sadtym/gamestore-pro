{"version":3,"file":"ParticleSystem-30062d1c.js","sources":["../../src/hooks/usePerformance.ts","../../src/components/ui/ParticleSystem.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\n\n// Detect user's motion preferences\nexport const useMotionPreferences = () => {\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(false)\n  const [motionLevel, setMotionLevel] = useState<'full' | 'reduced' | 'minimal'>('full')\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)')\n    \n    const updateMotionPreference = () => {\n      const reduced = mediaQuery.matches\n      setPrefersReducedMotion(reduced)\n      \n      if (reduced) {\n        setMotionLevel('minimal')\n      } else {\n        // Check device performance\n        const isLowEndDevice = navigator.hardwareConcurrency <= 4 || \n                              (navigator as any).deviceMemory <= 4 ||\n                              window.innerWidth < 768\n        \n        setMotionLevel(isLowEndDevice ? 'reduced' : 'full')\n      }\n    }\n\n    updateMotionPreference()\n    mediaQuery.addEventListener('change', updateMotionPreference)\n\n    return () => mediaQuery.removeEventListener('change', updateMotionPreference)\n  }, [])\n\n  return {\n    prefersReducedMotion,\n    motionLevel,\n    shouldReduceAnimations: motionLevel !== 'full',\n    shouldDisableParticles: motionLevel === 'minimal'\n  }\n}\n\n// Detect device performance\nexport const useDevicePerformance = () => {\n  const [deviceInfo, setDeviceInfo] = useState({\n    isLowEnd: false,\n    isMobile: false,\n    isTablet: false,\n    isDesktop: false,\n    cores: 4,\n    memory: 4,\n    connection: '4g'\n  })\n\n  useEffect(() => {\n    const updateDeviceInfo = () => {\n      const cores = navigator.hardwareConcurrency || 4\n      const memory = (navigator as any).deviceMemory || 4\n      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n      const isTablet = /iPad|Android/i.test(navigator.userAgent) && window.innerWidth >= 768\n      const isDesktop = !isMobile && !isTablet\n      \n      // Get connection info if available\n      const connection = (navigator as any).connection?.effectiveType || '4g'\n      \n      const isLowEnd = cores <= 4 || memory <= 4 || (isMobile && connection === '2g')\n\n      setDeviceInfo({\n        isLowEnd,\n        isMobile,\n        isTablet,\n        isDesktop,\n        cores,\n        memory,\n        connection\n      })\n    }\n\n    updateDeviceInfo()\n    \n    // Listen for connection changes\n    const connection = (navigator as any).connection\n    if (connection) {\n      connection.addEventListener('change', updateDeviceInfo)\n    }\n\n    return () => {\n      if (connection) {\n        connection.removeEventListener('change', updateDeviceInfo)\n      }\n    }\n  }, [])\n\n  return deviceInfo\n}\n\n// Performance monitoring hook\nexport const usePerformanceMonitor = () => {\n  const [metrics, setMetrics] = useState({\n    fps: 60,\n    memoryUsage: 0,\n    loadTime: 0,\n    renderTime: 0\n  })\n\n  useEffect(() => {\n    let frameId: number\n    let lastTime = performance.now()\n    let frameCount = 0\n\n    const measureFPS = () => {\n      const currentTime = performance.now()\n      frameCount++\n\n      if (currentTime - lastTime >= 1000) {\n        const fps = Math.round((frameCount * 1000) / (currentTime - lastTime))\n        setMetrics(prev => ({ ...prev, fps }))\n        frameCount = 0\n        lastTime = currentTime\n      }\n\n      frameId = requestAnimationFrame(measureFPS)\n    }\n\n    // Start FPS monitoring after component mount\n    frameId = requestAnimationFrame(measureFPS)\n\n    // Monitor memory usage\n    const monitorMemory = () => {\n      if ('memory' in performance) {\n        const memory = (performance as any).memory\n        const usage = Math.round((memory.usedJSHeapSize / memory.jsHeapSizeLimit) * 100)\n        setMetrics(prev => ({ ...prev, memoryUsage: usage }))\n      }\n    }\n\n    const memoryInterval = setInterval(monitorMemory, 5000)\n\n    return () => {\n      cancelAnimationFrame(frameId)\n      clearInterval(memoryInterval)\n    }\n  }, [])\n\n  return metrics\n}\n\n// Auto-disable heavy features based on performance\nexport const useAutoOptimization = () => {\n  const { motionLevel, shouldDisableParticles } = useMotionPreferences()\n  const deviceInfo = useDevicePerformance()\n  const { fps, memoryUsage } = usePerformanceMonitor()\n\n  const optimizations = {\n    disableParticles: shouldDisableParticles || fps < 30 || memoryUsage > 80,\n    reduceMotion: motionLevel !== 'full',\n    lowQualityImages: deviceInfo.isLowEnd || fps < 25,\n    disableVideoAutoPlay: deviceInfo.isLowEnd || fps < 20,\n    useMinimalAnimations: memoryUsage > 70,\n    preloadNextPage: deviceInfo.isDesktop && !deviceInfo.isLowEnd\n  }\n\n  return optimizations\n}","import { useEffect, useRef } from 'react'\nimport { motion } from 'framer-motion'\nimport { useAutoOptimization } from '../../hooks/usePerformance'\n\ninterface Particle {\n  x: number\n  y: number\n  vx: number\n  vy: number\n  size: number\n  color: string\n  opacity: number\n  life: number\n  maxLife: number\n}\n\ninterface ParticleSystemProps {\n  particleCount?: number\n  particleSize?: number\n  particleSpeed?: number\n  particleColor?: string\n  showConnections?: boolean\n  connectionDistance?: number\n  className?: string\n}\n\nconst ParticleSystem = ({\n  particleCount = 50,\n  particleSize = 2,\n  particleSpeed = 0.5,\n  particleColor = '#6C5CE7',\n  showConnections = false,\n  connectionDistance = 150,\n  className = ''\n}: ParticleSystemProps) => {\n  const optimizations = useAutoOptimization()\n  const shouldDisable = optimizations.disableParticles\n  \n  // Early return if should be disabled\n  if (shouldDisable) {\n    return null\n  }\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const particlesRef = useRef<Particle[]>([])\n  const animationFrameRef = useRef<number>()\n  const mouseRef = useRef({ x: 0, y: 0 })\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    if (!canvas) return\n\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n\n    // Set canvas size\n    const updateCanvasSize = () => {\n      canvas.width = window.innerWidth\n      canvas.height = window.innerHeight\n    }\n    updateCanvasSize()\n    window.addEventListener('resize', updateCanvasSize)\n\n    // Initialize particles\n    const initParticles = () => {\n      particlesRef.current = []\n      for (let i = 0; i < particleCount; i++) {\n        particlesRef.current.push(createParticle())\n      }\n    }\n\n    const createParticle = (): Particle => ({\n      x: Math.random() * canvas.width,\n      y: Math.random() * canvas.height,\n      vx: (Math.random() - 0.5) * particleSpeed,\n      vy: (Math.random() - 0.5) * particleSpeed,\n      size: Math.random() * particleSize + 1,\n      color: particleColor,\n      opacity: Math.random() * 0.6 + 0.2, // Reduced opacity for better performance\n      life: Math.random() * 150 + 50,\n      maxLife: Math.random() * 150 + 50\n    })\n\n    // Mouse interaction (optimized for performance)\n    const handleMouseMove = (e: MouseEvent) => {\n      mouseRef.current.x = e.clientX\n      mouseRef.current.y = e.clientY\n\n      // Add particles when mouse moves (reduced frequency)\n      if (Math.random() < 0.1 && particlesRef.current.length < particleCount * 1.2) {\n        particlesRef.current.push({\n          x: e.clientX,\n          y: e.clientY,\n          vx: (Math.random() - 0.5) * particleSpeed * 1.5,\n          vy: (Math.random() - 0.5) * particleSpeed * 1.5,\n          size: Math.random() * particleSize * 1.5 + 1,\n          color: particleColor,\n          opacity: 0.8,\n          life: 100,\n          maxLife: 100\n        })\n      }\n    }\n\n    // Update particles\n    const updateParticles = () => {\n      particlesRef.current = particlesRef.current.filter(particle => {\n        // Update position\n        particle.x += particle.vx\n        particle.y += particle.vy\n\n        // Mouse attraction (simplified)\n        const dx = mouseRef.current.x - particle.x\n        const dy = mouseRef.current.y - particle.y\n        const distance = Math.sqrt(dx * dx + dy * dy)\n        \n        if (distance < 80) {\n          const force = (80 - distance) / 80\n          particle.vx += (dx / distance) * force * 0.005\n          particle.vy += (dy / distance) * force * 0.005\n        }\n\n        // Boundary collision\n        if (particle.x < 0 || particle.x > canvas.width) particle.vx *= -1\n        if (particle.y < 0 || particle.y > canvas.height) particle.vy *= -1\n\n        // Update life\n        particle.life--\n        particle.opacity = particle.life / particle.maxLife\n\n        // Remove dead particles\n        return particle.life > 0\n      })\n\n      // Maintain particle count\n      while (particlesRef.current.length < particleCount) {\n        particlesRef.current.push(createParticle())\n      }\n    }\n\n    // Draw particles with performance optimization\n    const drawParticles = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n      // Draw connections only if enabled and particle count is reasonable\n      if (showConnections && particlesRef.current.length <= 50) {\n        ctx.save()\n        ctx.strokeStyle = `${particleColor}30`\n        ctx.lineWidth = 0.5\n        \n        for (let i = 0; i < particlesRef.current.length; i++) {\n          const particle = particlesRef.current[i]\n          for (let j = i + 1; j < particlesRef.current.length; j++) {\n            const other = particlesRef.current[j]\n            const dx = particle.x - other.x\n            const dy = particle.y - other.y\n            const distance = Math.sqrt(dx * dx + dy * dy)\n\n            if (distance < connectionDistance) {\n              const opacity = (1 - distance / connectionDistance) * 0.4\n              ctx.globalAlpha = opacity\n              ctx.beginPath()\n              ctx.moveTo(particle.x, particle.y)\n              ctx.lineTo(other.x, other.y)\n              ctx.stroke()\n            }\n          }\n        }\n        ctx.restore()\n      }\n\n      // Draw particles with optimized rendering\n      ctx.save()\n      particlesRef.current.forEach(particle => {\n        ctx.globalAlpha = particle.opacity\n        ctx.fillStyle = particle.color\n        \n        // Simplified glow effect for better performance\n        ctx.shadowColor = particle.color\n        ctx.shadowBlur = particle.size\n        \n        ctx.beginPath()\n        ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2)\n        ctx.fill()\n      })\n      ctx.restore()\n    }\n\n    // Animation loop\n    const animate = () => {\n      updateParticles()\n      drawParticles()\n      animationFrameRef.current = requestAnimationFrame(animate)\n    }\n\n    // Event listeners (always enabled for better UX)\n    window.addEventListener('mousemove', handleMouseMove)\n\n    // Start animation\n    initParticles()\n    animate()\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('resize', updateCanvasSize)\n      window.removeEventListener('mousemove', handleMouseMove)\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current)\n      }\n    }\n  }, [particleCount, particleSize, particleSpeed, particleColor, showConnections, connectionDistance])\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className={`fixed inset-0 pointer-events-none z-0 ${className}`}\n      style={{ mixBlendMode: 'screen' }}\n    />\n  )\n}\n\n// Floating Particles Component\ninterface FloatingParticlesProps {\n  count?: number\n  className?: string\n}\n\nexport const FloatingParticles = ({ count = 20, className = '' }: FloatingParticlesProps) => {\n  return (\n    <div className={`absolute inset-0 overflow-hidden pointer-events-none ${className}`}>\n      {Array.from({ length: count }).map((_, i) => (\n        <motion.div\n          key={i}\n          className=\"absolute w-1 h-1 bg-primary/30 rounded-full\"\n          style={{\n            left: `${Math.random() * 100}%`,\n            top: `${Math.random() * 100}%`,\n          }}\n          animate={{\n            y: [0, -20, 0],\n            x: [0, Math.random() * 10 - 5, 0],\n            opacity: [0.3, 1, 0.3],\n            scale: [1, 1.2, 1],\n          }}\n          transition={{\n            duration: 3 + Math.random() * 2,\n            repeat: Infinity,\n            delay: Math.random() * 2,\n            ease: \"easeInOut\"\n          }}\n        />\n      ))}\n    </div>\n  )\n}\n\n// Sparkle Effect Component\ninterface SparkleEffectProps {\n  count?: number\n  colors?: string[]\n  className?: string\n}\n\nexport const SparkleEffect = ({ \n  count = 30, \n  colors = ['#6C5CE7', '#00cec9', '#ffffff'],\n  className = '' \n}: SparkleEffectProps) => {\n  return (\n    <div className={`absolute inset-0 overflow-hidden pointer-events-none ${className}`}>\n      {Array.from({ length: count }).map((_, i) => (\n        <motion.div\n          key={i}\n          className=\"absolute\"\n          style={{\n            left: `${Math.random() * 100}%`,\n            top: `${Math.random() * 100}%`,\n          }}\n          animate={{\n            scale: [0, 1, 0],\n            rotate: [0, 180, 360],\n            opacity: [0, 1, 0],\n          }}\n          transition={{\n            duration: 2 + Math.random() * 3,\n            repeat: Infinity,\n            delay: Math.random() * 5,\n            ease: \"easeInOut\"\n          }}\n        >\n          <div \n            className=\"w-2 h-2 rounded-full\"\n            style={{\n              background: colors[Math.floor(Math.random() * colors.length)],\n              boxShadow: `0 0 10px ${colors[Math.floor(Math.random() * colors.length)]}40`,\n            }}\n          />\n        </motion.div>\n      ))}\n    </div>\n  )\n}\n\n// Constellation Effect\ninterface ConstellationEffectProps {\n  points?: number\n  className?: string\n}\n\nexport const ConstellationEffect = ({ points = 15, className = '' }: ConstellationEffectProps) => {\n  return (\n    <div className={`absolute inset-0 overflow-hidden pointer-events-none ${className}`}>\n      <svg className=\"w-full h-full\">\n        <defs>\n          <linearGradient id=\"constellationGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n            <stop offset=\"0%\" stopColor=\"#6C5CE7\" stopOpacity=\"0.8\" />\n            <stop offset=\"50%\" stopColor=\"#00cec9\" stopOpacity=\"0.6\" />\n            <stop offset=\"100%\" stopColor=\"#6C5CE7\" stopOpacity=\"0.8\" />\n          </linearGradient>\n        </defs>\n        \n        {/* Connection Lines */}\n        <g>\n          {Array.from({ length: points }).map((_, i) => {\n            const x1 = Math.random() * 100\n            const y1 = Math.random() * 100\n            const x2 = Math.random() * 100\n            const y2 = Math.random() * 100\n            \n            return (\n              <motion.line\n                key={`line-${i}`}\n                x1={`${x1}%`}\n                y1={`${y1}%`}\n                x2={`${x2}%`}\n                y2={`${y2}%`}\n                stroke=\"url(#constellationGradient)\"\n                strokeWidth=\"0.5\"\n                strokeOpacity=\"0.3\"\n                initial={{ pathLength: 0 }}\n                animate={{ pathLength: 1 }}\n                transition={{\n                  duration: 2 + Math.random() * 2,\n                  repeat: Infinity,\n                  repeatType: \"reverse\",\n                  delay: Math.random() * 2\n                }}\n              />\n            )\n          })}\n        </g>\n        \n        {/* Connection Points */}\n        <g>\n          {Array.from({ length: points }).map((_, i) => (\n            <motion.circle\n              key={`point-${i}`}\n              cx={`${Math.random() * 100}%`}\n              cy={`${Math.random() * 100}%`}\n              r=\"2\"\n              fill=\"#6C5CE7\"\n              opacity=\"0.8\"\n              animate={{\n                r: [2, 3, 2],\n                opacity: [0.8, 1, 0.8],\n              }}\n              transition={{\n                duration: 2,\n                repeat: Infinity,\n                delay: Math.random() * 2,\n                ease: \"easeInOut\"\n              }}\n            />\n          ))}\n        </g>\n      </svg>\n    </div>\n  )\n}\n\n// Matrix Rain Effect\nexport const MatrixRain = ({ className = '' }: { className?: string }) => {\n  const characters = '01アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン'\n  \n  return (\n    <div className={`absolute inset-0 overflow-hidden pointer-events-none ${className}`}>\n      {Array.from({ length: 20 }).map((_, column) => (\n        <motion.div\n          key={column}\n          className=\"absolute top-0 text-primary/20 font-mono text-sm\"\n          style={{ left: `${(column / 20) * 100}%` }}\n          animate={{\n            y: ['0vh', '100vh']\n          }}\n          transition={{\n            duration: 3 + Math.random() * 2,\n            repeat: Infinity,\n            ease: \"linear\",\n            delay: Math.random() * 2\n          }}\n        >\n          {Array.from({ length: 20 }).map((_, row) => (\n            <div key={row} className=\"leading-6\">\n              {characters[Math.floor(Math.random() * characters.length)]}\n            </div>\n          ))}\n        </motion.div>\n      ))}\n    </div>\n  )\n}\n\n// Combined Effect Component\ninterface ParticleEffectsProps {\n  type?: 'particles' | 'sparkles' | 'constellation' | 'matrix' | 'floating' | 'all'\n  className?: string\n}\n\nexport const ParticleEffects = ({ \n  type = 'particles', \n  className = '' \n}: ParticleEffectsProps) => {\n  const renderEffect = () => {\n    switch (type) {\n      case 'particles':\n        return <ParticleSystem />\n      case 'sparkles':\n        return <SparkleEffect />\n      case 'constellation':\n        return <ConstellationEffect />\n      case 'matrix':\n        return <MatrixRain />\n      case 'floating':\n        return <FloatingParticles />\n      case 'all':\n        return (\n          <>\n            <ParticleSystem />\n            <SparkleEffect />\n            <FloatingParticles />\n          </>\n        )\n      default:\n        return <ParticleSystem />\n    }\n  }\n\n  return (\n    <div className={`absolute inset-0 overflow-hidden pointer-events-none ${className}`}>\n      {renderEffect()}\n    </div>\n  )\n}\n\nexport default ParticleSystem"],"names":["useMotionPreferences","prefersReducedMotion","setPrefersReducedMotion","useState","motionLevel","setMotionLevel","useEffect","mediaQuery","updateMotionPreference","reduced","isLowEndDevice","useDevicePerformance","deviceInfo","setDeviceInfo","updateDeviceInfo","cores","memory","isMobile","isTablet","isDesktop","connection","_a","isLowEnd","usePerformanceMonitor","metrics","setMetrics","frameId","lastTime","frameCount","measureFPS","currentTime","fps","prev","memoryInterval","usage","useAutoOptimization","shouldDisableParticles","memoryUsage","ParticleSystem","particleCount","particleSize","particleSpeed","particleColor","showConnections","connectionDistance","className","canvasRef","useRef","particlesRef","animationFrameRef","mouseRef","canvas","ctx","updateCanvasSize","initParticles","i","createParticle","handleMouseMove","updateParticles","particle","dx","dy","distance","force","drawParticles","j","other","opacity","animate","jsx"],"mappings":"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"}